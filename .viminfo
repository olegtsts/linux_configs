# This viminfo file was generated by Vim 7.3.
# You may edit it if you're careful!

# Value of 'encoding' when this file was written
*encoding=utf-8


# hlsearch on (H) or off (h):
~h
# Last Search Pattern:
~Msle0~/\<fraud_bits\>

# Last Substitute Search Pattern:
~MSle0&\s\+$

# Last Substitute String:
$

# Command Line History (newest to oldest):
:wq
:q
:w
:qa
:!
:'<,'>qa
:929
:tabnew  common/filters/final_filter/final_filter_history.c
:tabnew common/Yabs/AntiFraud/Util/Funcs.pm
:e
:mksession!smth
:!mksession!smth
:!screen
:tabnew todo
:40
:26
:tabnew /home/olegts/yabs/trunk/umbrella/bscoll/common/compare-get-large-pages-methods.pl
:tabnew test-get-large-pages.pl
:!change_dates.py–∞f
:tabnew ./Yabs/AntiFraud/Filters/ClicksLimitTwo.pm

# Search String History (newest to oldest):
? \s\+$
? \<fraud_bits\>
? \<mon_file\>
? \<write_mon_file\>
?/yabs_file_lock
?/yabs_file
? \<script_name\>
? \<lockdir\>
? \<lockfilename\>
? \<lock_hash\>
? \<launch_prebilling\>
?/fork
?/forktasks
?/max(
?/max*
?/max
?/from 27 to 266 - from 878 to 145474
?/from 27 to 266
?/from 26 to 445 - from 140.9 to 151.74
?/from 22.1 to 23.4 - from 216.86 to 14117.9

# Expression History (newest to oldest):

# Input Line History (newest to oldest):
@ y	

# Input Line History (newest to oldest):

# Registers:
"0	CHAR	0
	sub get_large_pages_new {
		my $dbh = shift;
	
		my $sth = $dbh->prepare("
			select
				PageID,
				sum(Clicks)
			from
				PageEventStat
			group by
				PageID
		");
	
		$sth->execute()
		or return N_ERROR "dbh  execute failed : " . $dbh->errstr();
	
		my $page_events_stat = {};
		my $max_event_count = 0;
		while (my ($page_id, $event_count) = $sth->fetchrow_array()) {
			$page_events_stat->{$page_id} = $event_count;
			if ($max_event_count < $event_count) {
				$max_event_count = $event_count;
			}
		}
	
		unless ($max_event_count) {
			WARN "PageEventStat is empty";
		}
	
		my $large_pages = {};
		foreach my $page_id (keys %$page_events_stat) {
			if ($page_events_stat->{$page_id} >= $max_event_count * $PAGE_CLICKSCOUNT_SIGNIFICANT_PORTION) {
				$large_pages->{$page_id} = 1;
			}
		}
	
		return $large_pages;
	}
	
	
""1	LINE	0
	from 24.7 to 26 - from 216.9 to 14117.9 20150120000000 3354585
	from 0 to 1.3 - from 216.9 to 14117.9 20150120000000 3099201
"2	LINE	0
	sub get_
"3	CHAR	0
	large_pages {
		my $dbh = shift;
	
		my $sth = $dbh->prepare("
			select
				PageID,
				sum(Shows + Clicks)
			from
				PageEventStat
			group by
				PageID
		");
	
		$sth->execute()
		or return N_ERROR "dbh  execute failed : " . $dbh->errstr();
	
		my $page_events_stat = {};
		my $max_event_count = 0;
		while (my ($page_id, $event_count) = $sth->fetchrow_array()) {
			$page_events_stat->{$page_id} = $event_count;
			if ($max_event_count < $event_count) {
				$max_event_count = $event_count;
			}
		}
	
		unless ($max_event_count) {
			WARN "PageEventStat is empty";
		}
	
		my $large_pages = {};
		foreach my $page_id (keys %$page_events_stat) {
			if ($page_events_stat->{$page_id} >= $max_event_count * $PAGE_EVENTCOUNT_SIGNIFICANT_PORTION) {
				$large_pages->{$page_id} = 1;
			}
		}
	
		return $large_pages;
	}
	
	
"4	LINE	0
	our $PAGE_EVENTCOUNT_SIGNIFICANT_PORTION = HostOption('antifraud-page-eventcount-significant-portion', 0.01);
"5	LINE	0
	our $PAGE_EVENTCOUNT_SIGNIFICANT_PORTION = HostOption('antifraud-page-eventcount-significant-portion', 0.01);
"6	LINE	0
	INFO Dumper($large_pages);
"7	LINE	0
	our $PAGE_EVENTCOUNT_SIGNIFICANT_PORTION = HostOption('antifraud-page-eventcount-significant-portion', 0.01);
"8	LINE	0
	our $START_LOG_ID_SEARCH_CLICKS_BOUND = HostOption("antifraud-clicks-limit-start-logid-search-pages-clicks-bound", ":2");
"9	CHAR	0
		use Data::Dumper;
		INFO "write all_hostports " . Dumper($self->{'all_hostports'});
	
"a	CHAR	0
	|
"d	CHAR	0
	d–≤–≤—âddosleep(1);:w:!Äkuq
"i@	CHAR	0
	ÄkuÄK4INÄkuÄkdÄkbiÄkuÄkdÄkbÄkuÄK4INFO :"ÄklÄkb"ÄklÄkrDoneÄkr;:w:!Äkuq
"p	CHAR	0
	er:w
"q	CHAR	0
	:Äkb
"s	CHAR	0
	vn
"-	CHAR	0
	4047245

# File marks:
'A  19  45  ~/yabs/trunk/artmon/artmon-modules/Yabs/Artmon/Module/MatrixMoneyPortion.pm
'M  720  9  ~/yabs/trunk/basic_packages/yabs-pool-controller/PoolController.pm
'0  2  2  ~/yabs/trunk/stat/bspstat-stat-sender/debian/yabs-bspstat-stat-sender.xinstall
'1  6  17  ~/yabs/trunk/stat/bspstat-stat-sender/debian/rules
'2  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/compat
'3  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/control
'4  266  1  /tmp/svn-HVdctm
'5  1  0  /tmp/svn-UHMSHV
'6  4017  0  /tmp/svn-dIHE73
'7  4017  0  /tmp/svn-ptENWl
'8  1  0  /tmp/svn-MeUnQc
'9  4004  4  /tmp/svn-4wTj8M

# Jumplist (newest first):
-'  2  2  ~/yabs/trunk/stat/bspstat-stat-sender/debian/yabs-bspstat-stat-sender.xinstall
-'  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/yabs-bspstat-stat-sender.xinstall
-'  6  17  ~/yabs/trunk/stat/bspstat-stat-sender/debian/rules
-'  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/rules
-'  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/compat
-'  1  0  ~/yabs/trunk/stat/bspstat-stat-sender/debian/control
-'  266  1  /tmp/svn-HVdctm
-'  1  0  /tmp/svn-HVdctm
-'  1  0  /tmp/svn-UHMSHV
-'  4017  0  /tmp/svn-dIHE73
-'  1  0  /tmp/svn-dIHE73
-'  4017  0  /tmp/svn-ptENWl
-'  1  0  /tmp/svn-ptENWl
-'  1  0  /tmp/svn-MeUnQc
-'  4004  4  /tmp/svn-4wTj8M
-'  1  0  /tmp/svn-4wTj8M
-'  1  0  /tmp/svn-iCkzCH
-'  4004  4  /tmp/svn-FSfV94
-'  1  0  /tmp/svn-FSfV94
-'  4004  4  /tmp/svn-7gA9iK
-'  1  0  /tmp/svn-7gA9iK
-'  4017  0  /tmp/svn-E6xdAY
-'  1  0  /tmp/svn-E6xdAY
-'  4004  4  /tmp/svn-K34hFZ
-'  1  0  /tmp/svn-K34hFZ
-'  1  0  /tmp/svn-9c6Zng
-'  1  0  /tmp/svn-jwJv5A
-'  4004  4  /tmp/svn-i1qG03
-'  1  0  /tmp/svn-i1qG03
-'  1  0  /tmp/svn-nnRPmv
-'  1  0  /tmp/svn-yxcbyi
-'  4004  12  /tmp/svn-j6m7aT
-'  4006  5  /tmp/svn-j6m7aT
-'  1  0  /tmp/svn-j6m7aT
-'  4024  4  /tmp/svn-ipxl64
-'  1  0  /tmp/svn-ipxl64
-'  1  0  /tmp/svn-GSeDK1
-'  1  1  /tmp/svn-WiahLi
-'  20  59  /tmp/svn-RUXI3p
-'  1  0  /tmp/svn-RUXI3p
-'  951  1  /tmp/svn-VEKtI2
-'  974  26  /tmp/svn-VEKtI2
-'  1  0  /tmp/svn-VEKtI2
-'  1  0  /tmp/svn-NcffjD
-'  73  0  /tmp/svn-1O8b2a
-'  116  5  /tmp/svn-1O8b2a
-'  207  17  /tmp/svn-1O8b2a
-'  217  19  /tmp/svn-1O8b2a
-'  109  1  /tmp/svn-1O8b2a
-'  20  0  /tmp/svn-1O8b2a
-'  35  0  /tmp/svn-1O8b2a
-'  84  34  /tmp/svn-1O8b2a
-'  85  43  /tmp/svn-1O8b2a
-'  67  8  /tmp/svn-1O8b2a
-'  46  0  /tmp/svn-1O8b2a
-'  1  0  /tmp/svn-1O8b2a
-'  3  0  /tmp/svn-1KDnLn
-'  1  0  /tmp/svn-1KDnLn
-'  714  3  /tmp/svn-rPguci
-'  1  0  /tmp/svn-rPguci
-'  185  1  /tmp/svn-4tx152
-'  1  0  /tmp/svn-4tx152
-'  37  0  /tmp/svn-QPVMlG
-'  1  0  /tmp/svn-QPVMlG
-'  1  0  /tmp/svn-hOQoTd
-'  89  0  /tmp/svn-7fBPwD
-'  1  0  /tmp/svn-7fBPwD
-'  1  0  /tmp/svn-9IMX8N
-'  169  1  /tmp/svn-lREDjk
-'  172  0  /tmp/svn-lREDjk
-'  1  0  /tmp/svn-TQk7TE
-'  1  0  /tmp/svn-Xnbdxy
-'  4261  0  /tmp/svn-JchiSV
-'  1  0  /tmp/svn-JchiSV
-'  1  0  /tmp/svn-VSePYm
-'  240  1  /tmp/svn-9n1VCN
-'  1  0  /tmp/svn-9n1VCN
-'  1  0  /tmp/svn-Hpsjmc
-'  2894  4  /tmp/svn-j1MTRT
-'  1  0  /tmp/svn-j1MTRT
-'  110  0  /tmp/svn-vxkuhQ
-'  1  0  /tmp/svn-vxkuhQ
-'  75  0  /tmp/svn-ntjyXY
-'  1  0  /tmp/svn-ntjyXY
-'  112  0  /tmp/svn-xKQIlF
-'  1  0  /tmp/svn-xKQIlF
-'  1  0  /tmp/svn-HWbD5g
-'  129  3  /tmp/svn-KmTzPa
-'  1  0  /tmp/svn-KmTzPa
-'  128  0  /tmp/svn-58UaBM
-'  1  0  /tmp/svn-58UaBM
-'  1447  0  /tmp/svn-aeDGWg
-'  1  0  /tmp/svn-aeDGWg
-'  506  0  /tmp/svn-hYhTDV
-'  1  0  /tmp/svn-hYhTDV
-'  678  0  /tmp/svn-nV4Gvz
-'  1  0  /tmp/svn-nV4Gvz
-'  192  1  /tmp/svn-p7x3LT
-'  1  0  /tmp/svn-p7x3LT

# History of marks within files (newest to oldest):

> ~/yabs/trunk/stat/bspstat-stat-sender/debian/yabs-bspstat-stat-sender.xinstall
	"	2	2
	^	2	3
	.	2	2
	+	1	10
	+	2	2

> ~/yabs/trunk/stat/bspstat-stat-sender/debian/rules
	"	6	17
	^	6	18
	.	6	17
	+	6	17

> ~/yabs/trunk/stat/bspstat-stat-sender/debian/compat
	"	1	0
	^	1	1
	.	1	0
	+	1	0

> ~/yabs/trunk/stat/bspstat-stat-sender/debian/control
	"	1	0

> /tmp/svn-66aTi1
	"	261	1

> /tmp/svn-HVdctm
	"	266	1

> /tmp/svn-Gh4ImQ
	"	1	0

> /tmp/svn-UHMSHV
	"	1	0

> /tmp/svn-Z3VXkd
	"	4017	0

> /tmp/svn-dIHE73
	"	4017	0

> /tmp/svn-W1vscF
	"	4017	0

> /tmp/svn-ptENWl
	"	4017	0

> /tmp/svn-FH6X46
	"	1	0

> /tmp/svn-MeUnQc
	"	1	0

> /tmp/svn-vGQd5f
	"	4004	4

> /tmp/svn-4wTj8M
	"	4004	4

> /tmp/svn-Dw8xBB
	"	1	0

> /tmp/svn-iCkzCH
	"	1	0

> /tmp/svn-iyS0Lz
	"	4004	4

> /tmp/svn-FSfV94
	"	4004	4

> /tmp/svn-u9phA7
	"	4004	4

> /tmp/svn-7gA9iK
	"	4004	4

> ~/yabs/trunk/stat/d-process/DProcess/DProcess.pm
	"	100	1
	n	580	29

> /tmp/svn-GvUa3K
	"	4017	0

> /tmp/svn-E6xdAY
	"	4017	0

> /tmp/svn-YzOE5Y
	"	4004	4

> /tmp/svn-K34hFZ
	"	4004	4

> /tmp/svn-z4XLJD
	"	1	0

> /tmp/svn-9c6Zng
	"	1	0

> /tmp/svn-mlEwuz
	"	1	0

> /tmp/svn-jwJv5A
	"	1	0

> /tmp/svn-i1qG03
	"	4004	4

> /tmp/svn-CiaVGU
	"	4004	4

> /tmp/svn-70TWu6
	"	1	0

> /tmp/svn-nnRPmv
	"	1	0

> /tmp/svn-MxEO0e
	"	1	0

> /tmp/svn-yxcbyi
	"	1	0

> /tmp/svn-eK7AQH
	"	4004	12

> /tmp/svn-j6m7aT
	"	4004	12
	.	4004	0
	+	4004	0

> /tmp/svn-r4hl8U
	"	4024	4

> /tmp/svn-ipxl64
	"	4024	4

> /tmp/svn-GcENqn
	"	1	0

> /tmp/svn-GSeDK1
	"	1	0

> /tmp/svn-WiahLi
	"	1	1
	.	1	0
	+	1	0

> /tmp/svn-q4cB7I
	"	1	0

> /tmp/svn-JuDonJ
	"	20	52

> /tmp/svn-RUXI3p
	"	20	59

> /tmp/svn-lX0Ahj
	"	951	1

> /tmp/svn-VEKtI2
	"	951	1

> /tmp/svn-vyi9fp
	"	1	0

> /tmp/svn-NcffjD
	"	1	0

> /tmp/svn-DCJnoM
	"	56	0

> /tmp/svn-1O8b2a
	"	73	0

> /tmp/svn-PR3Wud
	"	3	0

> /tmp/svn-1KDnLn
	"	3	0

> /tmp/svn-rPguci
	"	714	3
	.	714	0
	+	714	0

> /tmp/svn-Ct3PwI
	"	697	2

> /tmp/svn-4tx152
	"	185	1

> /tmp/svn-QXe0Qp
	"	172	1

> /tmp/svn-n4D76F
	"	36	0

> /tmp/svn-QPVMlG
	"	37	0

> /tmp/svn-2OGS85
	"	1	0

> /tmp/svn-hOQoTd
	"	1	0

> /tmp/svn-ZIknPd
	"	88	0

> /tmp/svn-7fBPwD
	"	89	0

> /tmp/svn-TbFXdz
	"	1	0

> /tmp/svn-9IMX8N
	"	1	0

> /tmp/svn-iAJHwF
	"	1	0

> /tmp/svn-lREDjk
	"	169	1

> /tmp/svn-SHZzLo
	"	14	0

> /tmp/svn-TQk7TE
	"	1	0

> /tmp/svn-MOMJdM
	"	14	0

> /tmp/svn-Xnbdxy
	"	1	0

> /tmp/svn-lCvbj9
	"	4261	0

> /tmp/svn-JchiSV
	"	4261	0

> /tmp/svn-TzoAi5
	"	34	0

> /tmp/svn-VSePYm
	"	1	0

> /tmp/svn-vapck0
	"	265	1

> /tmp/svn-9n1VCN
	"	240	1

> /tmp/svn-pmSp18
	"	1	0

> /tmp/svn-Hpsjmc
	"	1	0

> /tmp/svn-rKLQH7
	"	2887	4

> /tmp/svn-j1MTRT
	"	2894	4

> /tmp/svn-VZW2BU
	"	109	0

> /tmp/svn-vxkuhQ
	"	110	0

> /tmp/svn-DEf68j
	"	74	0

> /tmp/svn-ntjyXY
	"	75	0

> /tmp/svn-mVQv2a
	"	111	0

> /tmp/svn-xKQIlF
	"	112	0

> /tmp/svn-thBUUH
	"	1	0

> /tmp/svn-HWbD5g
	"	1	0

> /tmp/svn-aUhGCv
	"	136	3

> /tmp/svn-KmTzPa
	"	129	3

> /tmp/svn-nanzz2
	"	128	0

> /tmp/svn-58UaBM
	"	128	0

> /tmp/svn-9HDoF2
	"	1433	0

> /tmp/svn-aeDGWg
	"	1447	0

> /tmp/svn-ANM3M2
	"	507	0

> /tmp/svn-hYhTDV
	"	506	0

> /tmp/svn-PFUyXG
	"	665	0
